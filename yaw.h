#ifndef YAW_H_
#define YAW_H_

// *******************************************************
// yaw.h
//
// Support for yaw functionality of the helicopter
//
// Authors: T.R. Peterson M.G. Gardyne M. Comber
// Last modified:  24.4.2021
//
// *******************************************************

#include <stdint.h>
#include <stdio.h>

//*************************************************************
// Type definitions
//*************************************************************
typedef struct {
    int16_t current;
    int16_t target;
} yaw_data_s;

//*************************************************************
// Intialise Yaw module
//*************************************************************
void
initYaw (void);

//*****************************************************************************
// Update yaw helicopter control
//*****************************************************************************
uint32_t
updateYaw(yaw_data_s yaw_data_in);

//*****************************************************************************
// Sweep helicopter to find reference yaw
//*****************************************************************************
bool
findReference(void);

//*****************************************************************************
// Pass current yaw to other modules
//*****************************************************************************
yaw_data_s
getYawData();

//*****************************************************************************
// Pass current yaw to other modules
//*****************************************************************************
int16_t
getYawCurrent(void);

//*****************************************************************************
// Pass reference found to reponse control module
//*****************************************************************************
bool
refFound(void);

#endif /* YAW_H_ */
